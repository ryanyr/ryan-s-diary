/* 
 * easyAnim v1.0
 * Url : http://stylechen.com/easyanim.html
 * Author : chenmnkken@gmail.com
 * Date : 2011-06-29
 */
(function(e,j){var k=function(n){n=typeof n==="string"?j.getElementById(n):n;return new a(n)},f=Math.pow,h=Math.sin,m=Math.PI,l=1.70158,i=[];var g={linear:function(n){return n},easeIn:function(n){return n*n},easeOut:function(n){return(2-n)*n},easeBoth:function(n){return(n*=2)<1?0.5*n*n:0.5*(1-(--n)*(n-2))},easeInStrong:function(n){return n*n*n*n},easeOutStrong:function(n){return 1-(--n)*n*n*n},easeBothStrong:function(n){return(n*=2)<1?0.5*n*n*n*n:0.5*(2-(n-=2)*n*n*n)},easeOutQuart:function(n){return -(f((n-1),4)-1)},easeInOutExpo:function(n){if(n===0){return 0}if(n===1){return 1}if((n/=0.5)<1){return 0.5*f(2,10*(n-1))}return 0.5*(-f(2,-10*--n)+2)},easeOutExpo:function(n){return(n===1)?1:-f(2,-10*n)+1},swingFrom:function(n){return n*n*((l+1)*n-l)},swingTo:function(n){return(n-=1)*n*((l+1)*n+l)+1},backIn:function(n){if(n===1){n-=0.001}return n*n*((l+1)*n-l)},backOut:function(n){return(n-=1)*n*((l+1)*n+l)+1},bounce:function(n){var o=7.5625,p;if(n<(1/2.75)){p=o*n*n}else{if(n<(2/2.75)){p=o*(n-=(1.5/2.75))*n+0.75}else{if(n<(2.5/2.75)){p=o*(n-=(2.25/2.75))*n+0.9375}else{p=o*(n-=(2.625/2.75))*n+0.984375}}}return p}};var d={getStyle:function(n,o){return"getComputedStyle" in e?function(){var p=getComputedStyle(n,null)[o];if((o==="left"||o==="right"||o==="top"||o==="bottom")&&p==="auto"){return"0px"}return p}():function(){var r=o.replace(/\-(\w)/g,function(u,t){return t.toUpperCase()});var s=n.currentStyle[r];if((r==="width"||r==="height")&&s==="auto"){var q=n.getBoundingClientRect();return(r==="width"?q.right-q.left:q.bottom-q.top)+"px"}if(r==="opacity"){var p=n.currentStyle.filter;if(/opacity/.test(p)){s=p.match(/\d+/)[0]/100;return(s===1||s===0)?s.toFixed(0):s.toFixed(1)}else{if(s===undefined){return"1"}}}if((o==="left"||o==="right"||o==="top"||o==="bottom")&&s==="auto"){return"0px"}return s}()},parseColor:function(t){var s,q,p;if(/rgb/.test(t)){var o=t.match(/\d+/g);s=o[0];q=o[1];p=o[2]}else{if(/#/.test(t)){var n=t.length;if(n===7){s=parseInt(t.slice(1,3),16);q=parseInt(t.slice(3,5),16);p=parseInt(t.slice(5),16)}else{if(n===4){s=parseInt(t.charAt(1)+t.charAt(1),16);q=parseInt(t.charAt(2)+t.charAt(2),16);p=parseInt(t.charAt(3)+t.charAt(3),16)}}}else{return t}}return{r:parseFloat(s),g:parseFloat(q),b:parseFloat(p)}},parseStyle:function(p){var o=parseFloat(p),n=p.replace(/^[\-\d\.]+/,"");return isNaN(o)?{val:this.parseColor(n),unit:"",fn:function(s,t,u,x){var w=(s.r+(t.r-s.r)*x).toFixed(0),v=(s.g+(t.g-s.g)*x).toFixed(0),q=(s.b+(t.b-s.b)*x).toFixed(0);return"rgb("+w+","+v+","+q+")"}}:{val:o,unit:n,fn:function(q,r,s,t){return(q+(r-q)*t).toFixed(3)+s}}},newObj:function(o,r){r=r!==undefined?r:1;var q={};for(var p=0,n=o.length;p<n;p+=1){q[o[p]]=r}return q},setOpacity:function(n,o){if("getComputedStyle" in e){n.style.opacity=o===1?"":o}else{n.style.zoom=1;n.style.filter=o===1?"":"alpha(opacity="+o*100+")"}},speed:{slow:600,fast:200,defaults:400},fxAttrs:function(p,o){var n=[["width","height","opacity","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],["opacity"]];return{attrs:n[o],type:p}},setOptions:function(p,q,s,r){var n=this,o={};o.duration=(function(t){if(typeof t==="number"){return t}else{if(typeof t==="string"&&n.speed[t]){return n.speed[t]}else{if(!t){return n.speed.defaults}}}})(q);o.easing=(function(t){if(typeof t==="string"&&g[t]){return g[t]}else{if(typeof t==="function"){return t}else{return g.easeBoth}}})(s);o.callback=function(){if(typeof r==="function"){r()}n.dequeue(p)};return o},setProps:function(r,q,o){if(o){var n=q().attrs,o=q().type,u,t,s;if(o==="hide"){u=n[0]==="opacity"?"0":"0px"}t=this.newObj(n,u);if(o==="show"){for(s in t){t[s]=this.getStyle(r,s)}}return t}else{if(q&&typeof q==="object"){return q}}},data:function(o){var n=o.animQueue;if(!n){n=o.animQueue=[]}return n},queue:function(o,p){var n=this.data(o);if(p){n.push(p)}if(n[0]!=="runing"){this.dequeue(o)}},dequeue:function(q){var o=this,n=o.data(q),p=n.shift();if(p==="runing"){p=n.shift()}if(p){n.unshift("runing");if(typeof p==="number"){e.setTimeout(function(){o.dequeue(q)},p)}else{if(typeof p==="function"){p.call(q,function(){o.dequeue(q)})}}}if(!n.length){q.animQueue=undefined}}};var b=function(q,n,p,o){this.elem=q;this.options=n;this.props=p;this.type=o},c=d;b.prototype={start:function(o,p){this.startTime=+new Date();this.source=o;this.target=p;i.push(this);var n=this;if(n.elem.timer){return}n.elem.timer=e.setInterval(function(){for(var q=0,r;r=i[q++];){r.run()}if(!i.length){n.stop()}},13)},run:function(s){var q=this.elem,A=this.type,B=this.props,o=this.startTime,E=+new Date(),r=this.options.duration,w=o+r,D=E>w?1:(E-o)/r,z=this.options.easing(D),y=0,u=0,n;for(n in B){y+=1}q.style.overflow="hidden";if(A==="show"){q.style.display="block"}for(n in B){u+=1;var C=this.source[n].val,v=this.target[n].val,x=this.target[n].unit;if(s||E>=w){q.style.overflow="";if(A==="hide"){q.style.display="none"}if(A){if(n==="opacity"){c.setOpacity(q,1)}else{q.style[n]=(A==="hide"?C:v)+x}}else{q.style[n]=/color/i.test(n)?"rgb("+v.r+","+v.g+","+v.b+")":v+x}if(u===y){this.complete();this.options.callback.call(q)}}else{if(C===v){continue}if(n==="opacity"){c.setOpacity(q,(C+(v-C)*z).toFixed(3))}else{q.style[n]=this.target[n].fn(C,v,x,z)}}}},stop:function(){e.clearInterval(this.elem.timer);this.elem.timer=undefined},complete:function(){for(var n=i.length-1;n>=0;n--){if(this===i[n]){i.splice(n,1)}}}};var a=function(n){this.elem=n};a.prototype={custom:function(p,r,t,s){var q=this.elem,n=c.setOptions(q,r,t,s),o=typeof p==="function"?p().type:null;p=c.setProps(q,p,o);c.queue(q,function(){var v={},x={},w;for(w in p){if(o==="show"){if(w==="opacity"){c.setOpacity(q,"0")}else{q.style[w]="0px"}}v[w]=c.parseStyle(c.getStyle(q,w));x[w]=c.parseStyle(p[w])}var u=new b(q,n,p,o);u.start(v,x)});return this},stop:function(n,o){var q=this.elem,p=i.length;if(n){q.animQueue=undefined}while(p--){if(i[p].elem===q){if(o){i[p].run(true);if(q.timer){return}q.timer=e.setInterval(function(){for(var r=0,s;s=i[r++];){s.run()}if(!p){e.clearInterval(q.timer);q.timer=undefined}},13)}i.splice(p,1)}}if(!o){c.dequeue(q)}return this},show:function(o,q,p){var n=this.elem;if(o){this.custom(function(){return c.fxAttrs("show",0)},o,q,p)}else{n.style.display="block"}return this},delay:function(n){if(typeof n==="number"){c.queue(this.elem,n)}return this},hide:function(o,q,p){var n=this.elem;if(o){this.custom(function(){return c.fxAttrs("hide",0)},o,q,p)}else{n.style.display="none"}return this},slideDown:function(n,p,o){this.custom(function(){return c.fxAttrs("show",1)},n,p,o);return this},slideUp:function(n,p,o){this.custom(function(){return c.fxAttrs("hide",1)},n,p,o);return this},slideToggle:function(o,q,p){var n=this.elem;c.getStyle(n,"display")==="none"?this.slideDown(o,q,p):this.slideUp(o,q,p);return this},fadeIn:function(n,p,o){this.custom(function(){return c.fxAttrs("show",2)},n,p,o);return this},fadeOut:function(n,p,o){this.custom(function(){return c.fxAttrs("hide",2)},n,p,o);return this}};e.easyAnim=k})(window,document);
